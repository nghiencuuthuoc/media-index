
# 📚 Media Index Search

A simple and powerful Streamlit app to **search, preview, and highlight** keywords from your OCR/indexed media collection.

Supports searching across:

* Images (JPG, PNG, TIFF…)
* Videos (frame OCR)
* PDF, DOCX, DOC, XLSX, XLS
* TXT, Markdown, RTF, EPUB, AZW/MOBI (DRM-free)

---

## 🚀 Features

* **Keyword Search**: Instantly find any file or frame containing your search term.
* **Smart Preview**:

  * Show image preview for pictures.
  * Show file/video info for other formats.
* **Highlight**: Auto-highlight found keywords in extracted text.
* **Dropdown List**: If there are many matches, quickly select the file/frame you want to view.
* **Supports Massive Collections**: Handles thousands of files, folders, subfolders.
* **Respects all common file types** indexed by your OCR pipeline.

---

## 🗂️ Project Structure

```
project-root/
├── media-data/
│   └── index.json             # Your OCR/index file
└── streamlit-app/
    └── media_index_search.py  # This Streamlit module
```

* `index.json` should be generated by your OCR/indexing script (e.g., `media_ocr_index.py`).

---

## ⚡ How to Use

1. **Put your `index.json`** at:

   ```
   ../media-data/index.json
   ```

   (relative to the `streamlit-app/` folder).

2. **Install requirements:**

   ```bash
   pip install streamlit pillow
   ```

3. **Run the Streamlit app:**

   ```bash
   cd streamlit
   streamlit run media_index_search.py
   ```

4. **Open the web UI:**
   Go to `http://localhost:8501` in your browser.

5. **Search & Preview:**

   * Enter a keyword.
   * Click on any file/frame to view highlighted content, preview images, and more.

---

## 📝 About `index.json`

Your `index.json` should be a list of dictionaries, each with at least:

* `type`: (e.g., "image", "video", "pdf", "txt", ...)
* `filename`: relative path to the file/frame
* `text`: OCR-extracted or parsed text content
* For video frames: also include `second` and `frame_id`

Example entry:

```json
{
  "type": "image",
  "filename": "subfolder/photo123.jpg",
  "text": "Sample text found by OCR"
}
```

or

```json
{
  "type": "video",
  "filename": "clips/sample.mp4",
  "second": 25,
  "frame_id": "clips/sample.mp4|25",
  "text": "Frame OCR text here"
}
```

---

## 🧩 Footer Example

Add this snippet to the end of your app for branding:

```python
st.markdown("""
<br><hr>
<div style='text-align:center; font-size: 12px'>
    | Copyright 2025 | 🥣 <b>Nghiên Cứu Thuốc</b> | 🧠 <b>PharmApp</b> |<br>
    | <i>Discover</i> | <i>Design</i> | <i>Optimize</i> | <i>Create</i> | <i>Deliver</i> | <br>
    | <a href="https://www.nghiencuuthuoc.com" target="_blank">www.nghiencuuthuoc.com</a> |
    <a href="https://www.pharmapp.vn" target="_blank">www.pharmapp.vn</a> |
    Zalo: <a href="https://zalo.me/84888999311" target="_blank">+84888999311</a> |
</div>
""", unsafe_allow_html=True)
```

---

## 🛠️ Credits

* Developed by [Bui Huynh Quoc Dat](https://www.nghiencuuthuoc.com)
* Powered by [PharmApp](https://www.pharmapp.vn)
* Open source, customizable, no vendor lock-in.

---

## 📧 Contact

Questions or feedback?
**Zalo/WhatsApp:** +84888999311
**Email:** [nghiencuuthuoc@gmail.com](mailto:nghiencuuthuoc@gmail.com)

---

